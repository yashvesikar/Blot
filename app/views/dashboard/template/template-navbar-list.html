<div id="template-list">
    <h2 style="margin-top:2rem">Current template</h2>

  {{#currentTemplate}}
  {{> template-row}}
  {{/currentTemplate}}

  {{#templatesInYourFolder.length}}
  <h2>Templates in folder</h2>
  {{/templatesInYourFolder.length}}

  {{#templatesInYourFolder}}
  {{> template-row}}
  {{/templatesInYourFolder}}

  {{#yourTemplates.length}}
  <h2>Your templates</h2>
  {{/yourTemplates.length}}


  {{#yourTemplates}}
  {{> template-row}}
  {{/yourTemplates}}

     <div class="template-row {{newSelected}}">

  
  
    <a href="{{{dashboardBase}}}/template/new">
          <span class="preview" style="border:1px dashed #ccc;{{#newSelected}}border-color:var(--accent-color);{{/newSelected}}border-radius:3px;box-shadow: none;"> </span>
New template
    </a>
  
  </div>
 


  {{#blotTemplates.length}}
    <h2>Default templates</h2>
  {{/blotTemplates.length}}
  
  {{#blotTemplates}}
  {{> template-row}}
  {{/blotTemplates}}

  {{#pastTemplates}}
  {{> template-row}}
  {{/pastTemplates}}

<!-- 
  <hr style="border:none;border-bottom: 1px solid #eeeeec;margin:0 0;">
  <a href="{{{dashboardBase}}}/template/deleted">Deleted templates</a><br>
  <a href="{{{dashboardBase}}}/template/disable">Disable template</a> -->
</div>

<script>

 // we want to preserve the scroll offset whenever a link is clicked in the template list
  // the parent container of the links on this page is:
  // <div id="template-list" style="overflow-y: scroll;width: 100%;height: 100%;padding-right: 17px;">
    var template_list = document.getElementById('template-list');

    var scroll_offset = sessionStorage.getItem('scroll_offset');
    if (scroll_offset) {
      template_list.scrollTop = scroll_offset;
    }


// whenever the user scrolls the template list, save the scroll offset
template_list.addEventListener('scroll', function() {
  sessionStorage.setItem('scroll_offset', template_list.scrollTop);
});


// when the page loads, scroll to the last scroll offset
window.addEventListener('DOMContentLoaded', function() {
  
  // whenever the <form action="{{{base}}}/install" is submitted, remove the scroll offset
  var install_form = document.querySelector('form[action="{{{base}}}/install"]');
  if (install_form) {
    install_form.addEventListener('submit', function() {
      sessionStorage.removeItem('scroll_offset');
    });
  }
});

		
</script>